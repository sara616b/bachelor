{% extends "cms/Layout.html" %}

{% block navigation %}
    {% include "cms/Modules/Navigation.html" with selected="Users" %}
{% endblock %}

{% block header %}
    {% include "cms/Components/Title.html" with text="Edit User" %}
    {% include "cms/Components/Button.html" with text="Delete?"  color="#ce6060" %}
{% endblock %}

{% block main_content %}
    <form
        hx-put="{% url 'EditUserView' username=user.username %}"
        hx-target="#main"
        hx-swap="innerhtml"
    >
        {% include "cms/Components/TextInput.html" with name="first_name" label="First Name" value=user.first_name %}
        {% include "cms/Components/TextInput.html" with name="last_name" label="Last Name" value=user.last_name %}
        {% include "cms/Components/TextInput.html" with name="username" label="Username" value=user.username %}
        {% include "cms/Components/TextInput.html" with name="email" label="Email" value=user.email %}
        {% include "cms/Components/Checkbox.html" with name="is_superuser" label="Is Superuser" value=user.is_superuser %}

        <p class="pt-8 font-bold">Permissions</p>
        <div
            class="h-40 p-4 mb-4 overflow-scroll bg-white border"
        >
            {% for permission in permissions %}
                {% include "cms/Components/Checkbox.html" with name=permission.value label=permission.label value=permission.user_has %}
            {% endfor %}
        </div>

        {% include "cms/Components/Button.html" with text="Save "|add:user.username type="submit" %}
    </form>
{% endblock %}
